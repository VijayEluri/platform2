/**
*
* This is a collection of temporary sql fixes.
*
*
**/

alter table ic_address modify (street_name varchar2(100))
alter table ic_user modify (first_name varchar2(45));
alter table ic_user modify (middle_name varchar2(45));
alter table ic_user modify (last_name varchar2(45));
alter table ic_user modify (display_name varchar2(45));

/opt/interbase/bin/isql 
connect /idega/databases/nacka1.gdb;


ICUser
------------------------------------------------
update rdb$fields
set rdb$field_length = 30,
    rdb$character_length = 30
where rdb$field_name =
   (select rdb$field_source
   from rdb$relation_fields
   where rdb$relation_name = 'IC_USER'
    and  rdb$field_name = 'FIRST_NAME'
   );

commit;
   
update IC_USER set FIRST_NAME = FIRST_NAME;
commit;

select * from IC_USER;
commit;

update rdb$fields
set rdb$field_length = 50,
    rdb$character_length = 50
where rdb$field_name =
   (select rdb$field_source
   from rdb$relation_fields
   where rdb$relation_name = 'IC_USER'
    and  rdb$field_name = 'MIDDLE_NAME'
   );

commit;
   
update IC_USER set MIDDLE_NAME = MIDDLE_NAME;
commit;
select * from IC_USER;
commit;


update rdb$fields
set rdb$field_length = 30,
    rdb$character_length = 30
where rdb$field_name =
   (select rdb$field_source
   from rdb$relation_fields
   where rdb$relation_name = 'IC_USER'
    and  rdb$field_name = 'LAST_NAME'
   );

commit;
   
update IC_USER set LAST_NAME = LAST_NAME;
commit;
select * from IC_USER;
commit;


-----------------------------------------
Address
-----------------------------------------
   
    
update rdb$fields
set rdb$field_length = 50,
    rdb$character_length = 50
where rdb$field_name =
   (select rdb$field_source
   from rdb$relation_fields
   where rdb$relation_name = 'IC_ADDRESS'
    and  rdb$field_name = 'CITY'
   );

commit;
   
update IC_ADDRESS set CITY = CITY;
commit;
select * from IC_ADDRESS;
commit;


update rdb$fields
set rdb$field_length = 50,
    rdb$character_length = 50
where rdb$field_name =
   (select rdb$field_source
   from rdb$relation_fields
   where rdb$relation_name = 'IC_ADDRESS'
    and  rdb$field_name = 'STREET_NAME'
   );

commit;
   
update IC_ADDRESS set STREET_NAME = STREET_NAME;
commit;
select * from IC_ADDRESS;
commit;


update rdb$fields
set rdb$field_length = 30,
    rdb$character_length = 30
where rdb$field_name =
   (select rdb$field_source
   from rdb$relation_fields
   where rdb$relation_name = 'IC_ADDRESS'
    and  rdb$field_name = 'STREET_NUMBER'
   );

commit;
   
update IC_ADDRESS set STREET_NUMBER = STREET_NUMBER;
commit;
select * from IC_ADDRESS;
commit;


update rdb$fields
set rdb$field_length = 50,
    rdb$character_length = 50
where rdb$field_name =
   (select rdb$field_source
   from rdb$relation_fields
   where rdb$relation_name = 'IC_ADDRESS'
    and  rdb$field_name = 'PROVINCE'
   );

commit;
   
update IC_ADDRESS set PROVINCE = PROVINCE;
commit;
select * from IC_ADDRESS;
commit;

update rdb$fields
set rdb$field_length = 50,
    rdb$character_length = 50
where rdb$field_name =
   (select rdb$field_source
   from rdb$relation_fields
   where rdb$relation_name = 'IC_ADDRESS'
    and  rdb$field_name = 'PROVIDENCE'
   );

commit;
   
update IC_ADDRESS set PROVIDENCE = PROVIDENCE;
commit;
select * from IC_ADDRESS;
commit;


update rdb$fields
set rdb$field_length = 50,
    rdb$character_length = 50
where rdb$field_name =
   (select rdb$field_source
   from rdb$relation_fields
   where rdb$relation_name = 'IC_ADDRESS'
    and  rdb$field_name = 'P_O_BOX'
   );

commit;
   
update IC_ADDRESS set P_O_BOX = P_O_BOX;
commit;
select * from IC_ADDRESS;
commit;


-----------------------------------------
PostalCode
-----------------------------------------
update rdb$fields
set rdb$field_length = 50,
    rdb$character_length = 50
where rdb$field_name =
   (select rdb$field_source
   from rdb$relation_fields
   where rdb$relation_name = 'IC_POSTAL_CODE'
    and  rdb$field_name = 'POSTAL_CODE'
   );

commit;
   
update IC_POSTAL_CODE set POSTAL_CODE = POSTAL_CODE;
commit;
select * from IC_POSTAL_CODE;
commit;

update rdb$fields
set rdb$field_length = 50,
    rdb$character_length = 50
where rdb$field_name =
   (select rdb$field_source
   from rdb$relation_fields
   where rdb$relation_name = 'IC_POSTAL_CODE'
    and  rdb$field_name = 'NAME'
   );

commit;
   
update IC_POSTAL_CODE set NAME = NAME;
commit;
select * from IC_POSTAL_CODE;
commit;




